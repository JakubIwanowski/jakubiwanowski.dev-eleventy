<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Beginner&#39;s Guide to Eleventy - part one</title>
    <meta name="description" content="First part of a beginner&#39;s guide to eleventy">
    <link rel="stylesheet" href="/assets/css/global.css">
      <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png"/>
    <link rel="canonical" href="https://jakubiwanowski.dev/garden/programming/eleventy-guide-part-one/">
    <link rel="me" href="https://fosstodon.org/@dzajew">
    
        <link href="/assets/css/highlight/shades-of-purple.css" rel="stylesheet">
        
</head>
<body>
    <header class="header">
    <div class="container">
      <nav class="nav">
        <ul class="nav__list">
  <li class="nav__list__el">
    <a href="/" class="nav__list__link ">Home</a>
  </li>
  <li class="nav__list__el">
    <a href="/garden/" class="nav__list__link active">Garden</a>
  </li>
  <li class="nav__list__el">
    <a href="/contact/" class="nav__list__link ">Contact</a>
  </li>
  <li class="nav__list__el">
    <a href="/garden/paths.rss" class="nav__list__link ">RSS</a>
  </li></ul>
      </nav>
    </div>
</header>

    <main>
       <div class="post-content container">
        <p class="post__date">
  Planted on: 09-01-2023
</p>

        <h1>A Beginner's Guide to Eleventy - part one</h1>
<p>Recently I've moved my blog from Remix to Eleventy. I really like Remix, and I think it's a great tool but it felt like an overkill for a simple site like this.</p>
<p>Eleventy is a static site generator (SSG), which means that it generates a website at build time, static files are uploaded to a hosting, and served to users. Setting up an eleventy site is quite easy, but I missed a step by step instruction, which would take me through basic setup, hence the guide. It'll be divided into a few parts, how many, I don't know yet. Let's get down to business.</p>
<p>First, we start with <strong>npm init</strong> to start our project</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> init <span class="token parameter variable">-y</span></code></pre>
<p>Then we install Eleventy</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @11ty/eleventy</code></pre>
<p>To run our project type:</p>
<pre class="language-bash"><code class="language-bash">npx @11ty/eleventy</code></pre>
<p>This command will build our website. If we want to rerun build process everytime we save a file, we should run:</p>
<pre class="language-bash"><code class="language-bash">npx @11ty/eleventy <span class="token parameter variable">--serve</span></code></pre>
<p>Our project is ready for development, but we still need to add some content. Eleventy lets us choose one from many templating languages out of the box: HTML, Markdown, WebC, JavaScript, Liquid, Nunjucks (my personal choice), Handlebars, Mustache, EJS, Haml, Pug. You can use a custom language of your choice as well!</p>
<h2>Adding content</h2>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><br>My awesome website<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>A paragraph<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<p>Add index.njk to your root folder. Eleventy will generate your webiste in <strong>_site</strong> folder.<br>
For now the output page doesn't differ much from our source file. Let's add some magic to it. Create <strong>_data</strong> folder and <strong>navigation.json</strong> inside it.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>        <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span><br>        <span class="token property">"href"</span><span class="token operator">:</span> <span class="token string">"/"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>        <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"Blog"</span><span class="token punctuation">,</span><br>        <span class="token property">"href"</span><span class="token operator">:</span> <span class="token string">"/blog/"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>        <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"Contact"</span><span class="token punctuation">,</span><br>        <span class="token property">"href"</span><span class="token operator">:</span> <span class="token string">"mailto:your-mail@example.com"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>        <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"RSS"</span><span class="token punctuation">,</span><br>        <span class="token property">"href"</span><span class="token operator">:</span> <span class="token string">"/path/to/rss-feed"</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">]</span></code></pre>
<p>Our data is ready to be used. Let's create <strong>_navigation.njk</strong> in <strong>_includes</strong> folder, which holds our layouts and template parts</p>
<pre class="language-njk"><code class="language-njk"><span class="token operator">&lt;</span><span class="token variable">header</span><span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token variable">nav</span><span class="token operator">></span><br>        <span class="token operator">&lt;</span><span class="token variable">ul</span><span class="token operator">></span><br>  <span class="token punctuation">{</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token keyword">for</span> <span class="token variable">nav</span> <span class="token keyword">in</span> <span class="token variable">navigation</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span> <br>          <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token variable">set</span> <span class="token variable">regExp</span> <span class="token operator">=</span> <span class="token variable">r</span><span class="token operator">/</span>\<span class="token variable">b</span><span class="token punctuation">(</span><span class="token variable">blog</span><span class="token punctuation">)</span>\<span class="token variable">b</span><span class="token operator">/</span><span class="token variable">i</span> <span class="token operator">%</span><span class="token punctuation">}</span><br>  <span class="token operator">&lt;</span><span class="token variable">li</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token variable">a</span> <span class="token variable">href</span><span class="token operator">=</span><span class="token string">"{{ nav.href }}"</span> <span class="token variable">class</span><span class="token operator">=</span><span class="token string">"{% if page.url == nav.href or (regExp.test(page.url) === true and nav.href === '/blog/') %}active{% endif %}"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token variable">nav</span><span class="token punctuation">.</span><span class="token variable">label</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">a</span><span class="token operator">></span><br>  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">li</span><span class="token operator">></span>  <br>  <span class="token punctuation">{</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token variable">endfor</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span><br>        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">ul</span><span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">nav</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">header</span><span class="token operator">></span></code></pre>
<p>What we're doing here is taking navigation data from <strong>_data</strong> folder and looping through the array to generate our navigation. If the url of an element matches our current address, we add 'active' class. I've also added a regex, to check if we're somewhere inside <em>blog</em> directory. If yes, we also add 'active' class.</p>
<pre class="language-njk"><code class="language-njk"><span class="token operator">&lt;</span>!<span class="token variable">DOCTYPE</span> <span class="token variable">HTML</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">html</span> <span class="token variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">head</span><span class="token operator">></span><br>	<span class="token operator">&lt;</span><span class="token variable">meta</span> <span class="token variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token variable">meta</span> <span class="token variable">name</span><span class="token operator">=</span><span class="token string">"viewport"</span> <span class="token variable">content</span><span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span><br>	<span class="token operator">&lt;</span><span class="token variable">title</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">title</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">head</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">body</span><span class="token operator">></span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token variable">include</span> <span class="token string">'_navigation.njk'</span> <span class="token operator">%</span><span class="token punctuation">}</span><br><span class="token operator">&lt;</span><span class="token variable">main</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">h1</span><span class="token operator">></span><br><span class="token variable">My</span> <span class="token variable">awesome</span> <span class="token variable">website</span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">h1</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">p</span><span class="token operator">></span><br><span class="token variable">A</span> <span class="token variable">paragraph</span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">p</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">main</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">body</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">html</span><span class="token operator">></span></code></pre>
<p>Now we have navigation on our home page, great. If we're creating a blog, some posts would be nice. There are a few ways of fetching data in Eleventy. For now, I'd like to focus on some basic setup. Create <strong>_posts</strong> folder. Create two or three sample posts inside it:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token punctuation">---</span><br><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-11-10</span><br><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">'Example post'</span><br><span class="token key atrule">excerpt</span><span class="token punctuation">:</span> <span class="token string">'Example excerpt'</span><br><span class="token punctuation">---</span></code></pre>
<p><strong>Edit</strong>: This is front matter. I haven't explained what it is in the previous version of the post, but I've written a bit more about this topic <a href="/garden/programming/eleventy-guide-part-two#front-matter">in the next part of the guide</a><br>
Add <em><strong>_posts.json</strong></em> to our folder holding posts:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"permalink"</span><span class="token operator">:</span> <span class="token string">"/blog/{{ page.fileSlug }}/index.html"</span><span class="token punctuation">,</span><br>  <span class="token property">"tags"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"posts"</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>&quot;permalink&quot; tells Eleventy where output files should placed. In this case it's: <em>/blog/file-slug/index.html</em>. If a post file is named <strong>my-first-post.md</strong>, the output will be: <em>/blog/my-first-post/index.html</em>. &quot;tags&quot; field assigns files to collections. One file can belong to more than one collection. That's how we can list our posts anywhere we want. Now let's fetch them on our homepage, in index.njk:</p>
<pre class="language-njk"><code class="language-njk"><span class="token operator">&lt;</span>!<span class="token variable">DOCTYPE</span> <span class="token variable">HTML</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">html</span> <span class="token variable">lang</span><span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">head</span><span class="token operator">></span><br>	<span class="token operator">&lt;</span><span class="token variable">meta</span> <span class="token variable">charset</span><span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token variable">meta</span> <span class="token variable">name</span><span class="token operator">=</span><span class="token string">"viewport"</span> <span class="token variable">content</span><span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span><br>	<span class="token operator">&lt;</span><span class="token variable">title</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">title</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">head</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">body</span><span class="token operator">></span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token variable">include</span> <span class="token string">'_navigation.njk'</span> <span class="token operator">%</span><span class="token punctuation">}</span><br><span class="token operator">&lt;</span><span class="token variable">main</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">h1</span><span class="token operator">></span><br><span class="token variable">My</span> <span class="token variable">awesome</span> <span class="token variable">website</span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">h1</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token variable">p</span><span class="token operator">></span><br><span class="token variable">A</span> <span class="token variable">paragraph</span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">p</span><span class="token operator">></span><br>            <span class="token operator">&lt;</span><span class="token variable">ul</span><span class="token operator">></span><br>                <span class="token punctuation">{</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token keyword">for</span> <span class="token variable">post</span> <span class="token keyword">in</span> <span class="token variable">collections</span><span class="token punctuation">.</span><span class="token variable">posts</span> <span class="token operator">|</span> <span class="token variable">reverse</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span><br>                            <span class="token operator">&lt;</span><span class="token variable">li</span><span class="token operator">></span><br>                                <span class="token operator">&lt;</span><span class="token variable">a</span> <span class="token variable">href</span><span class="token operator">=</span><span class="token string">"{{post.url}}"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token variable">post</span><span class="token punctuation">.</span><span class="token variable">data</span><span class="token punctuation">.</span><span class="token variable">title</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">a</span><span class="token operator">></span><br>                               <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token variable">post</span><span class="token punctuation">.</span><span class="token variable">data</span><span class="token punctuation">.</span><span class="token variable">excerpt</span><span class="token punctuation">}</span><span class="token punctuation">}</span><br>                            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">li</span><span class="token operator">></span><br>                <span class="token punctuation">{</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token variable">endfor</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">ul</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">main</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">body</span><span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token variable">html</span><span class="token operator">></span></code></pre>
<p>We're looping through our posts, and showing title, excerpt, and we add link to each post.<br>
Let's add some styling. Create <strong>style.css</strong> and <strong>.eleventy.js</strong> in the root folder. The dotfile is Eleventy configuration file. We'll use it to copy CSS file from development to production build:</p>
<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	eleventyConfig<span class="token punctuation">.</span><span class="token function">addPassthroughCopy</span><span class="token punctuation">(</span><span class="token string">"style.css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>You may need to restart serve command in order to see the changes.<br>
Just add link to the stylesheet in the <code>&lt;head&gt;</code></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
<p>And that's all for today. In the next parts of the guide I'll discuss adding layouts and Sass to our blog. Hopefully, what I wrote, and will write, will be helpful to someone. Do you have comments or suggestions? Feel free to send me an email (my address is in the navigation). You can also find me on Mastodon: <a href="https://fosstodon.org/@dzajew" target="_blank">@dzajew@fosstodon.org</a>.</p>

       </div>
    </main>
    
</body>
</html>
